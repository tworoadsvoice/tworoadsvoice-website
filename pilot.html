<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pilot - Two Roads Voice</title>
  <style>
    :root{ color-scheme: dark; }
    select, option, optgroup{ background-color: var(--input); color: var(--ink); }
    option:checked, option:hover{ background-color:#1a2635 !important; color: var(--ink); }

    :root{
      --bg:#0b0f14; --panel:#0f1620; --ink:#eaf2ff; --sub:#a9b6c7;
      --brand:#4f79ff; --brand-700:#3a5de0; --ok:#31c48d; --err:#ff6b6b;
      --stroke:#223041; --input:#121b26;
      --radius:14px; --pad:18px; --gap:16px; --fieldH:48px;
      --shadow:0 6px 24px rgba(0,0,0,.35), inset 0 0 0 1px var(--stroke);
      --shadow-focus:0 8px 28px rgba(0,0,0,.45), inset 0 0 0 1px var(--brand);
      --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; font-family:var(--font); background:var(--bg); color:var(--ink);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    .wrap{max-width:980px;margin-inline:auto;padding:24px 20px 60px}
    h1{font-size:clamp(26px,3vw,34px);margin:8px 0 6px}
    .muted{color:var(--sub);margin:0 0 22px}

    .card{background:var(--panel);border-radius:20px;padding:24px;box-shadow:var(--shadow)}
    .grid{ display:grid; gap:var(--gap); grid-template-columns:repeat(12,1fr); }
    .col-3{grid-column:span 3} .col-4{grid-column:span 4} .col-6{grid-column:span 6} .col-8{grid-column:span 8} .col-12{grid-column:span 12}
    @media (max-width: 760px){ .col-3,.col-4,.col-6,.col-8{grid-column:span 12} }

    label{display:block;font-size:14px;color:var(--sub);margin:2px 0 6px}
    .field{ display:flex; align-items:center; min-height:var(--fieldH);
      background:var(--input); border:1px solid var(--stroke); border-radius:12px;
      padding:0 14px; transition:.18s border-color, .18s box-shadow, .18s background; }
    .field:focus-within{border-color:var(--brand); box-shadow:var(--shadow-focus)}
    input[type="text"], input[type="email"], select, textarea{
      width:100%; border:0; outline:0; background:transparent; color:var(--ink); font-size:15px; padding:12px 0;
    }
    textarea{
      min-height:130px; padding:14px; border-radius:12px; resize:vertical;
      background:var(--input); border:1px solid var(--stroke);
    }
    textarea:focus{border-color:var(--brand); box-shadow:var(--shadow-focus)}
    .hint{font-size:12px; color:var(--sub); margin-top:4px}
    .consent{ display:flex; align-items:center; gap:10px; color:var(--sub); font-size:14px;
      background:var(--input); border:1px solid var(--stroke); border-radius:12px; padding:12px 14px; min-height:var(--fieldH); }
    .consent input{width:18px;height:18px;margin:0; accent-color:var(--brand)}
    .consent strong{color:var(--ink)}
    .actions{display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-top:6px}
    .btn{ appearance:none; border:0; border-radius:12px; padding:12px 18px; font-weight:600; color:white; background:var(--brand); cursor:pointer;
      box-shadow:0 8px 24px rgba(79,121,255,.25); transition:transform .06s ease, background .18s ease, opacity .18s ease; }
    .btn:hover{background:var(--brand-700)} .btn:disabled{opacity:.6; cursor:not-allowed}
    .link{color:var(--ink); text-decoration:underline; text-underline-offset:3px}
    .note{font-size:13px; color:var(--sub)}
    .groupTitle{font-size:13px; color:var(--sub); margin:26px 0 10px; text-transform:uppercase; letter-spacing:.06em}

    .rowcheck{ display:flex; flex-wrap:wrap; gap:10px }
    .chk{ display:flex; align-items:center; gap:8px; background:var(--input); border:1px solid var(--stroke); border-radius:10px; padding:10px 12px; }
    .chk input{ width:18px; height:18px; margin:0; accent-color:var(--brand) }

    .toast{ position:fixed; inset:auto 16px 16px auto; background:#0c151f; color:var(--ink);
      padding:14px 16px; border-radius:12px; border:1px solid var(--stroke); display:none; box-shadow:0 10px 28px rgba(0,0,0,.4); }
    .toast.ok{border-color:#184b3a} .toast.err{border-color:#5a1f1f}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Piloto gratuito de 7 días — Two Roads Voice</h1>
    <p class="muted">Completa el formulario y en menos de 24 horas te entregamos tu agente activo (número de prueba y página personalizada) listo para usar.</p>

    <form id="pilotForm" class="card" novalidate>
      <div class="grid">
        <!-- Contacto -->
        <div class="col-6">
          <label for="name">Nombre completo*</label>
          <div class="field"><input id="name" name="name" type="text" required placeholder="Nombre y apellido" autocomplete="name"></div>
        </div>
        <div class="col-6">
          <label for="email">Email*</label>
          <div class="field"><input id="email" name="email" type="email" required placeholder="tucorreo@empresa.com" autocomplete="email"></div>
        </div>
        <div class="col-6">
          <label for="phone">Teléfono de contacto (con código país)*</label>
          <div class="field"><input id="phone" name="phone" type="text" inputmode="tel" required placeholder="+1 305 123 4567" autocomplete="tel"></div>
          <div class="hint">Normalizamos a formato internacional E.164 para SMS.</div>
        </div>

        <!-- Negocio -->
        <div class="col-6">
          <label for="business">Nombre del negocio*</label>
          <div class="field"><input id="business" name="business" type="text" required placeholder="Ej: Clínica Sonrisa / FitZone Gym"></div>
        </div>
        <div class="col-6">
          <label for="industry">Industria*</label>
          <div class="field">
            <select id="industry" name="industry" required>
              <option value="" disabled selected>Selecciona</option>
              <option>Salud / Clínica</option>
              <option>Restaurante / Eventos</option>
              <option>Servicios automotrices / Taller</option>
              <option>Inmobiliaria</option>
              <option>Gimnasio / Academia</option>
              <option>Consultoría / Agencia</option>
              <option>Retail / Tienda</option>
              <option>Otro</option>
            </select>
          </div>
        </div>
        <div class="col-6">
          <label for="website">Sitio web o redes (opcional)</label>
          <div class="field"><input id="website" name="website" type="text" placeholder="https://tusitio.com o @instagram"></div>
        </div>
        <div class="col-6">
          <label for="city">Ciudad/País (para tono y horarios)</label>
          <div class="field"><input id="city" name="city" type="text" placeholder="Ciudad, País"></div>
        </div>
        <div class="col-6">
          <label for="timezone">Zona horaria</label>
          <div class="field"><input id="timezone" name="timezone" type="text" placeholder="Ej: America/New_York"></div>
        </div>

        <!-- Idioma y canal -->
        <div class="col-6">
          <label for="languages">Idioma(s) del agente*</label>
          <div class="field">
            <select id="languages" name="languages" required>
              <option value="" disabled selected>Selecciona</option>
              <option>Español</option>
              <option>English</option>
              <option>Bilingüe (ES/EN)</option>
            </select>
          </div>
        </div>
        <div class="col-6">
          <label for="channels">Canal a probar*</label>
          <div class="field">
            <select id="channels" name="channels" required>
              <option value="" disabled selected>Selecciona</option>
              <option>Solo llamadas telefónicas</option>
              <option>Solo chat web</option>
              <option>Ambos (llamadas + chat)</option>
            </select>
          </div>
        </div>

        <!-- Objetivo y tareas -->
        <div class="col-6">
          <label for="goal">Objetivo principal del piloto*</label>
          <div class="field">
            <select id="goal" name="goal" required>
              <option value="" disabled selected>Selecciona</option>
              <option>Reservas / Citas</option>
              <option>Recepción y filtrado</option>
              <option>Responder preguntas frecuentes</option>
              <option>Soporte posventa</option>
              <option>Otro</option>
            </select>
          </div>
        </div>
        <div class="col-12">
          <div class="groupTitle">¿Qué tareas debe realizar el agente? (marca las que apliquen)</div>
          <div class="rowcheck">
            <label class="chk"><input type="checkbox" id="t_book"  /> <span>Reservar citas / mesas</span></label>
            <label class="chk"><input type="checkbox" id="t_faq"   /> <span>Responder FAQs (horarios, dirección, precios orientativos)</span></label>
            <label class="chk"><input type="checkbox" id="t_msg"   /> <span>Tomar mensajes y enviar SMS</span></label>
            <label class="chk"><input type="checkbox" id="t_transfer" /> <span>Transferir llamadas a mi equipo</span></label>
          </div>
        </div>

        <!-- Operación -->
        <div class="col-6">
          <label for="hours">Horario de atención (texto libre)</label>
          <div class="field"><input id="hours" name="hours" type="text" placeholder="L–V 9–6pm, S 10–2pm"></div>
        </div>
        <div class="col-6">
          <label for="volume">Volumen aproximado de llamadas</label>
          <div class="field">
            <select id="volume" name="volume">
              <option value="" selected>Selecciona</option>
              <option>0–20/día</option>
              <option>20–50/día</option>
              <option>50–100/día</option>
              <option>100+/día</option>
            </select>
          </div>
        </div>

        <!-- Agenda / Confirmaciones -->
        <div class="col-6">
          <label for="bookingTool">Herramienta de agenda</label>
          <div class="field">
            <select id="bookingTool" name="bookingTool">
              <option value="" selected>Selecciona</option>
              <option>Calendly</option>
              <option>Google Calendar</option>
              <option>Ninguna</option>
              <option>Otra</option>
            </select>
          </div>
        </div>
        <div class="col-6">
          <label for="bookingLink">Enlace de agenda (si aplica)</label>
          <div class="field"><input id="bookingLink" name="bookingLink" type="text" placeholder="https://calendly.com/tuagenda"></div>
        </div>
        <div class="col-6">
          <label for="confirmPref">Confirmación de reservas</label>
          <div class="field">
            <select id="confirmPref" name="confirmPref">
              <option value="" selected>Selecciona</option>
              <option>SMS</option>
              <option>Email</option>
              <option>Ambos (SMS + Email)</option>
              <option>Ninguno</option>
            </select>
          </div>
        </div>
        <div class="col-6">
          <label for="forwardNumber">Número para transferir llamadas (opcional)</label>
          <div class="field"><input id="forwardNumber" name="forwardNumber" type="text" placeholder="+1 786 000 0000"></div>
        </div>

        <!-- Personalización del agente -->
        <div class="col-6">
          <label for="agentName">Nombre preferido del agente (opcional)</label>
          <div class="field"><input id="agentName" name="agentName" type="text" placeholder="Ej: Camila, Sofía, Alex"></div>
        </div>
        <div class="col-6">
          <label for="agentTone">Tono/persona del agente</label>
          <div class="field">
            <select id="agentTone" name="agentTone">
              <option value="" selected>Selecciona</option>
              <option>Amable y profesional</option>
              <option>Formal</option>
              <option>Alegre y cercano</option>
              <option>Sereno y conciso</option>
            </select>
          </div>
        </div>

        <!-- Contenido/FAQs -->
        <div class="col-12">
          <label for="faqs">FAQs clave (precios orientativos, políticas, dirección, etc.)</label>
          <textarea id="faqs" name="faqs" placeholder="Escribe 4–8 preguntas y respuestas breves que el agente debería saber…"></textarea>
        </div>
        <div class="col-12">
          <label for="notes">Notas / instrucciones especiales</label>
          <textarea id="notes" name="notes" placeholder="Casos de uso, scripts específicos, integraciones deseadas, restricciones…"></textarea>
        </div>
        <div class="col-12">
          <label for="success">¿Qué haría que este piloto sea un éxito para ti?</label>
          <textarea id="success" name="success" placeholder="Ej: “al menos 5 reservas reales” o “reducir llamadas sin respuesta al 10%”."></textarea>
        </div>

        <!-- Consentimiento -->
        <div class="col-12 consent">
          <input id="consent" name="consent" type="checkbox" required />
          <label for="consent" style="margin:0; cursor:pointer;">
            Acepto el uso de mis datos para crear y operar el <strong>piloto de 7 días</strong>, y recibir comunicaciones relacionadas (email/SMS).
          </label>
        </div>

        <!-- Honeypot -->
        <input type="text" id="hp" name="hp" autocomplete="off" style="display:none">

        <div class="col-12 actions">
          <button id="submitBtn" class="btn" type="submit">Enviar solicitud</button>
          <span class="note">¿Prefieres hablar con ventas? <a class="link" href="https://calendly.com/tworoadsvoice/30min">Agenda una llamada</a>.</span>
        </div>
      </div>
    </form>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // ⚠️ Pega aquí tu webhook cuando lo tengas (o déjalo en blanco si lo procesas manualmente).
    const WEBHOOK_URL = 'https://your-webhook-or-n8n-endpoint.example.com/webhook/pilot';

    const form  = document.getElementById('pilotForm');
    const btn   = document.getElementById('submitBtn');
    const toast = document.getElementById('toast');

    function showToast(msg, ok=true){
      toast.textContent = msg;
      toast.className = 'toast ' + (ok ? 'ok' : 'err');
      toast.style.display = 'block';
      clearTimeout(window.__t);
      window.__t = setTimeout(()=> toast.style.display='none', 4200);
    }

    // Normaliza teléfonos a E.164 (cubre casos comunes)
    function toE164(raw){
      if (!raw) return '';
      let p = (''+raw).trim();
      if (p.startsWith('00')) p = '+' + p.slice(2);
      if (p.startsWith('+')) return p.replace(/[^\d+]/g,'');
      const digits = p.replace(/\D/g,'');
      if (digits.length === 10) return '+1' + digits;           // US típico
      if (digits.length >= 8 && digits.length <= 15) return '+' + digits;
      return raw;
    }

    const val = id => (document.getElementById(id)?.value || '').trim();
    const chk = id => !!document.getElementById(id)?.checked;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (document.getElementById('hp').value) return; // honeypot

      if (!form.checkValidity()){
        showToast('Revisa los campos obligatorios.', false);
        form.reportValidity();
        return;
      }

      btn.disabled = true;

      const payload = {
        // Contacto
        name: val('name'),
        email: val('email'),
        phone: toE164(val('phone')),

        // Negocio
        business: val('business'),
        industry: val('industry'),
        website: val('website'),
        city: val('city'),
        timezone: val('timezone'),

        // Idioma / canal
        languages: val('languages'),
        channels: val('channels'),

        // Objetivo y tareas
        goal: val('goal'),
        tasks: {
          booking: chk('t_book'),
          faqs: chk('t_faq'),
          messaging: chk('t_msg'),
          transfer: chk('t_transfer'),
        },

        // Operación
        hours: val('hours'),
        volume: val('volume'),

        // Agenda / confirmaciones
        bookingTool: val('bookingTool'),
        bookingLink: val('bookingLink'),
        confirmPref: val('confirmPref'),
        forwardNumber: toE164(val('forwardNumber')),

        // Personalización agente
        agentName: val('agentName'),
        agentTone: val('agentTone'),

        // Contenidos
        faqs: val('faqs'),
        notes: val('notes'),
        success: val('success'),

        consent: document.getElementById('consent').checked,
        source: 'website-pilot-form'
      };

      try{
        if (WEBHOOK_URL && WEBHOOK_URL.startsWith('http')){
          const res = await fetch(WEBHOOK_URL, {
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify(payload)
          });
          if(!res.ok) throw new Error('HTTP ' + res.status);
          showToast('¡Solicitud enviada! Te contactaremos en menos de 24 h.', true);
          form.reset();
        } else {
          // Modo manual (sin webhook): copia el JSON al clipboard para pegarlo donde quieras
          await navigator.clipboard.writeText(JSON.stringify(payload, null, 2));
          showToast('Sin webhook: datos copiados al portapapeles ✅', true);
        }
      }catch(err){
        console.error(err);
        showToast('No se pudo enviar. Intenta nuevamente.', false);
      }finally{
        btn.disabled = false;
      }
    });
  </script>
</body>
</html>


